docker build --pull --rm -f Dockerfile -t electrosoftware/coordinates_worker:latest .

docker push electrosoftware/coordinates_worker:latest
docker pull electrosoftware/coordinates_worker:latest

--create a docker network
docker network create --driver bridge --subnet 192.168.1.0/24 my-bridge-network

docker compose -f docker-compose.yml up -d
docker compose -f docker-compose-worker.yml up -d
docker compose -f docker-compose-hooks.yml up -d

--creacion de collection coordinates capped
db.createCollection("coordinates", { capped : true, size : 5242880, max : 5000 } )
docker push electrosoftware/geo_worker:latest
docker pull electrosoftware/geo_worker:latest

go build -o mongo_nats_worker

source .env
./mongo_nats_worker

Para arm64 (Apple Silicon, M1/M2):
docker build --build-arg TARGETARCH=arm64 -t mongo_nats_worker:2.0-arm64 .

Para amd64 (x86_64):
docker build --build-arg TARGETARCH=amd64 -t mongo_nats_worker:2.0-amd64 .
